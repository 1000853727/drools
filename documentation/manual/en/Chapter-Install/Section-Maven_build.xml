<?xml version="1.0" encoding="UTF-8"?>
<section>
  <title>Build</title>

  <section>
    <title>Building the Source</title>

    <para>Now that we have the source the next step is to build and install
    the source. We do this with <indexterm>
        <primary>maven</primary>
      </indexterm>Maven 2, which will also handle the downloading of required
    dependencies.</para>

    <para>Type <literal>'mvn install' </literal>to start the build process.
    Maven will then build and each Drools module - <indexterm>
        <primary>drools-core</primary>
      </indexterm>drools-core, <indexterm>
        <primary>drools-compiler</primary>
      </indexterm>drools-compiler, <indexterm>
        <primary>drools-jsr94</primary>
      </indexterm>drools-jsr94. During this process it will run the <indexterm>
        <primary>unit test</primary>
      </indexterm>Unit Tests for each module. Maven is not yet able to build
    <indexterm>
        <primary>eclipse</primary>
      </indexterm>Eclipse plugins, so this module is not included, instead the
    project for the <indexterm>
        <primary>drools-ide</primary>
      </indexterm>drools-ide module is already added to subversion.</para>

    <screenshot>
      <screeninfo>Start Maven Install</screeninfo>

      <mediaobject>
        <imageobject>
          <imagedata fileref="mvn_install1.jpg" />
        </imageobject>
      </mediaobject>
    </screenshot>

    <screenshot>
      <screeninfo>Maven Module Unit Testing</screeninfo>

      <mediaobject>
        <imageobject>
          <imagedata fileref="mvn_install2.jpg" />
        </imageobject>
      </mediaobject>
    </screenshot>

    <screenshot>
      <screeninfo>Finished Maven Install</screeninfo>

      <mediaobject>
        <imageobject>
          <imagedata fileref="mvn_install3.jpg" />
        </imageobject>
      </mediaobject>
    </screenshot>

    <para>As Maven builds each module it will install the resulting jars in
    the local Maven 2 repository. Where it can be easily used from other
    project <literal>pom.xml</literal> or copied else where.</para>

    <screenshot>
      <screeninfo>Installed Drools Jars</screeninfo>

      <mediaobject>
        <imageobject>
          <imagedata fileref="mvn_install4.jpg" />
        </imageobject>
      </mediaobject>
    </screenshot>
  </section>

  <section>
    <title>Building the Manual</title>

    <para>Drools uses <indexterm>
        <primary>docbook</primary>
      </indexterm>Docbook for this manual. Ant is used to build the
    documentation. The documentation produces four different formats, all
    share the same images directory. PDFs will attempt to use SVG images where
    possible.</para>

    <itemizedlist>
      <listitem>
        <para>html_single</para>

        <para>The entire manual in a single html document</para>
      </listitem>

      <listitem>
        <para><indexterm>
            <primary>html</primary>
          </indexterm>html</para>

        <para>The manual is split into multiple documents and placed in a
        frameset. The left frame provides navigation</para>
      </listitem>

      <listitem>
        <para><indexterm>
            <primary>pdf</primary>
          </indexterm>PDF</para>

        <para>A generated PDF, with nagivation.</para>
      </listitem>

      <listitem>
        <para>eclipse</para>

        <para>Documentation suitable for including in an eclipse plugin</para>
      </listitem>
    </itemizedlist>

    <para>The documentation is generated by using the <literal>'ant'</literal>
    commandin the <literal>documentation\manual</literal> directory.</para>

    <screenshot>
      <screeninfo>Start documentation building</screeninfo>

      <mediaobject>
        <imageobject>
          <imagedata fileref="manual1.jpg" />
        </imageobject>
      </mediaobject>
    </screenshot>

    <screenshot>
      <screeninfo>Finished documentation building</screeninfo>

      <mediaobject>
        <imageobject>
          <imagedata fileref="manual2.jpg" />
        </imageobject>
      </mediaobject>
    </screenshot>

    <para>The generated docuementation can be found in the
    <literal>build</literal> directory, a folder per each format.</para>

    <screenshot>
      <screeninfo>Generated documentation</screeninfo>

      <mediaobject>
        <imageobject>
          <imagedata fileref="manual3.jpg" />
        </imageobject>
      </mediaobject>
    </screenshot>
  </section>
</section>