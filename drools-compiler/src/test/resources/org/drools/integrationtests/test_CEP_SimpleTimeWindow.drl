package org.drools;

global java.util.List results;

declare OrderEvent {
    role event
}

rule "average over threshold"
when
    Number( $avg : intValue >= 50 ) from accumulate(
              OrderEvent( [ win:time(30000) ], $amt : total ),
              average( $amt ) )
then
    //System.out.println( "Over threshold: "+$avg );
    results.add( $avg );
end

