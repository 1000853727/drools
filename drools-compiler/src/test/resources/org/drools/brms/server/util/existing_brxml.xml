<rule>
  <modelVersion>1.0</modelVersion>
  <attributes>
    <attribute>
      <attributeName>no-loop</attributeName>
      <value>true</value>
    </attribute>
  </attributes>
  <lhs>
    <fact>
     <constraintList>
      <constraints>
        <fieldConstraint>
          <fieldBinding>f1</fieldBinding>
          <fieldName>age</fieldName>
          <operator>&lt;</operator>
          <value>42</value>
          <constraintValueType>0</constraintValueType>
        </fieldConstraint>
      </constraints>
     </constraintList>
      <factType>Person</factType>
      <boundName>p1</boundName>
    </fact>
    <compositePattern>
      <type>not</type>
      <patterns>
        <fact>
          <factType>Cancel</factType>
        </fact>
      </patterns>
    </compositePattern>
  </lhs>
  <rhs>
    <modify>
      <variable>p1</variable>
      <fieldValues>
        <fieldValue>
          <field>status</field>
          <value>rejected</value>
          <type>String</type>
        </fieldValue>
      </fieldValues>
    </modify>
    <retract>
      <variableName>p1</variableName>
    </retract>
    <dslSentence>
      <sentence>Send an email to {administrator}</sentence>
    </dslSentence>
  </rhs>
</rule>
